<?xml version='1.0' encoding='UTF-8' ?>
<openerp>
    <data noupdate="0">

        <!-- Add web resources -->

        <template id="assets_backend" name="backend_base_css" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/mozaik_base/static/src/css/backend_base.css"/>
            </xpath>
        </template>

        <template id="theme" name="frontend_base_css" inherit_id="website.theme">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/mozaik_base/static/src/css/frontend_base.css"/>
            </xpath>
        </template>

        <!-- Persons -->

        <menuitem id="persons_root_menu" name="Persons"
                  sequence="10" groups="res_groups_base" />

        <menuitem id="persons_configuration_submenu" name="Configuration"
                  sequence="99" parent="persons_root_menu" groups="mozaik_base.mozaik_res_groups_configurator" />

        <menuitem id="localization_submenu" name="Localization"
                  sequence="40" parent="persons_configuration_submenu" />

        <menuitem id="persons_titles_submenu" name="Titles"
                  sequence="60" parent="persons_configuration_submenu" />

        <!-- Membership -->

        <menuitem id="membership_root_menu" name="Membership"
                  sequence="12" groups="res_groups_base"/>

        <!-- Communication -->

        <menuitem id="communication_root_menu" name="Communication"
                  sequence="14" groups="res_groups_base"/>

        <!-- Mandates -->

        <menuitem id="mandates_root_menu" name="Mandates"
                  sequence="30" groups="res_groups_base" />

        <!-- Structures -->

        <menuitem id="structures_root_menu" name="Structures"
                  sequence="32" groups="res_groups_base" />

        <!-- Re-base standard menus -->

        <menuitem id="res_partner_category_menu" action="base.action_partner_category_form"
                  sequence="50" parent="persons_configuration_submenu" />

        <menuitem id="res_country_menu" action="base.action_country"
                  sequence="50" parent="localization_submenu" />

        <menuitem id="res_partner_natural_title_menu" action="base.action_partner_title_contact"
                  sequence="10" parent="persons_titles_submenu" />

        <menuitem id="res_partner_legal_title_menu" action="base.action_partner_title_partner"
                  sequence="20" parent="persons_titles_submenu" />

        <record id="mail.mail_feeds" model="ir.ui.menu">
            <field name="parent_id" ref="communication_root_menu" />
            <field name="sequence">5</field>
        </record>

        <record id="help_online.menu_help_main" model="ir.ui.menu">
            <field name="name">Help</field>
            <field name="sequence">390</field>
            <field name="groups_id" eval="[(5, 0, 0)]" />
        </record>

        <record id="help_online.menu_help" model="ir.ui.menu">
            <field name="groups_id" eval="[(5, 0, 0)]" />
        </record>

        <record id="help_toc_action" model="ir.actions.act_url">
            <field name="name">Table of Contents</field>
            <field name="url">/page/mozaik-help-toc</field>
            <field name="target">self</field>
        </record>

        <menuitem id="help_toc_menu" action="help_toc_action"
                  name="Table of Contents"
                  sequence="50" parent="help_online.menu_help"
                  groups="help_online.help_online_group_reader" />

        <record id="connector.menu_connector_root" model="ir.ui.menu">
            <field name="sequence">350</field>
        </record>

        <!-- Hide standard menus -->

        <record id="mail.mail_feeds_main" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [
                ref('settings_improvement.unused_features'),
            ])]" />
        </record>

        <record id="base.marketing_menu" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [
                ref('settings_improvement.unused_features'),
            ])]" />
        </record>

        <!-- Hide standard actions -->

        <record id="distribution_list.action_view_distribution_list_add_filter" model="ir.actions.act_window">
            <field name="groups_id" eval="[(6, 0, [
                ref('settings_improvement.unused_features'),
            ])]" />
        </record>

        <record id="document.act_res_partner_document" model="ir.actions.act_window">
            <field name="groups_id" eval="[(6, 0, [
                ref('settings_improvement.unused_features'),
            ])]" />
        </record>

        <!-- Update user form -->

        <record model="ir.ui.view" id="res_user_form">
            <field name="name">Users Preferences (mozaik_base)</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="sales_team.res_user_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='default_section_id']" position="attributes">
                    <attribute name="groups">mozaik_base.res_groups_developper</attribute>
                </xpath>
            </field>
        </record>

        <!-- Update Preferences form -->

        <record id="view_users_form_preferences" model="ir.ui.view">
            <field name="name">res.users.preferences.form (mozaik_base)</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="sales_team.view_users_form_preferences"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='default_section_id']" position="attributes">
                    <attribute name="groups">mozaik_base.res_groups_developper</attribute>
                </xpath>
            </field>
        </record>

        <!-- Messages form -->

        <record id="view_message_form" model="ir.ui.view">
            <field name="name">mail.message.form (mozaik_base)</field>
            <field name="model">mail.message</field>
            <field name="inherit_id" ref="mail.view_message_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='res_id']" position="after">
                    <field name="record_name" readonly="1"
                           attrs="{'invisible': ['|',('record_name', '=', False),('parent_id', '!=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='subtype_id']" position="after">
                    <field name="message_id" readonly="1"/>
                </xpath>
            </field>
        </record>

        <!-- Export Translations form -->

        <record id="wizard_lang_export" model="ir.ui.view">
            <field name="name">Export Translations (mozaik_base)</field>
            <field name="model">base.language.export</field>
            <field name="inherit_id" ref="base.wizard_lang_export"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@states='get']" position="after">
                    <div class="oe_clear" states="choose">
                        <!-- Some blank lines to see the entire elapsed many2many_tags widget -->
                        <br />
                        <br />
                        <br />
                        <br />
                    </div>
                </xpath>
            </field>
        </record>

    </data>
</openerp>
