<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="0">

        <!-- Distribution Lists Owners can modify/unlink them ... -->
        <record id="distribution_list_user_rule" model="ir.rule">
            <field name="name">Distribution List for Ficep User</field>
            <field name="model_id" ref="distribution_list.model_distribution_list" />
            <field name="domain_force">[('res_users_ids','in', [user.id])]</field>
            <field name="groups" eval="[(4,ref('ficep_base.ficep_res_groups_user'))]"/>
            <field name="perm_create" eval="False" />
            <field name="perm_read" eval="False" />
        </record>

        <!-- ... and Configurator too -->
        <record id="distribution_list_configurator_rule" model="ir.rule">
            <field name="name">Distribution List for Ficep Configurator</field>
            <field name="model_id" ref="distribution_list.model_distribution_list" />
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4,ref('ficep_base.ficep_res_groups_configurator'))]"/>
            <field name="perm_create" eval="False" />
            <field name="perm_read" eval="False" />
        </record>

        <!-- Pyramidal Confidentiality -->

        <record id="distribution_list_base_rule" model="ir.rule">
            <field name="name">Distribution List for Ficep Base</field>
            <field name="model_id" ref="distribution_list.model_distribution_list"/>
            <field name="domain_force">[('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="postal_mail_log_base_rule" model="ir.rule">
            <field name="name">Postal Mail Log for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_postal_mail_log"/>
            <field name="domain_force">[('partner_id.int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="postal_mail_log_base_rule" model="ir.rule">
            <field name="name">Postal Mail Log for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_postal_mail_log"/>
            <field name="domain_force">[('partner_id.int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_involvement_base_rule" model="ir.rule">
            <field name="name">Partner/Involvement for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_involvement"/>
            <field name="domain_force">[('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_relation_base_rule" model="ir.rule">
            <field name="name">Partner/Relation for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_relation"/>
            <field name="domain_force">[('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_instance_base_rule" model="ir.rule">
            <field name="name">Partner/Instance for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_instance"/>
            <field name="domain_force">[('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_mandate_base_rule" model="ir.rule">
            <field name="name">Partner/Mandate for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_mandate"/>
            <field name="domain_force">[
                ('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids),
            ]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_candidature_base_rule" model="ir.rule">
            <field name="name">Partner/Candidature for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_candidature"/>
            <field name="domain_force">[
                ('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids),
                ('mng_int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids),
            ]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_assembly_instance_base_rule" model="ir.rule">
            <field name="name">Assembly/Instance for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_assembly_instance"/>
            <field name="domain_force">[('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_retrocession_base_rule" model="ir.rule">
            <field name="name">Partner/Retrocession for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_retrocession"/>
            <field name="domain_force">[
                ('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids),
                '|',
                ('sta_mandate_id.retro_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids),
                ('ext_mandate_id.retro_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids),
            ]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

        <record id="virtual_partner_membership_base_rule" model="ir.rule">
            <field name="name">Partner/Membership for Ficep Base</field>
            <field name="model_id" ref="ficep_communication.model_virtual_partner_membership"/>
            <field name="domain_force">[('int_instance_id','child_of',user.partner_id.int_instance_m2m_ids.ids)]</field>
            <field name="groups" eval="[(5,0,0)]"/>
        </record>

    </data>
</openerp>